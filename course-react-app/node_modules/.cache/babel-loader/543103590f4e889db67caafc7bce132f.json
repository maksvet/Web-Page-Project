{"ast":null,"code":"import _regeneratorRuntime from\"/Users/MakSim/FS1030CourseProject/course-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/MakSim/FS1030CourseProject/course-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/MakSim/FS1030CourseProject/course-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EntriesPage=function EntriesPage(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),entries=_useState2[0],setEntries=_useState2[1];var loadEntries=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var jwt,response,payload;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();jwt=localStorage.getItem('token');_context.next=4;return fetch('https://fs1040course-project-p2xhr6rraq-nn.a.run.app/contact_form/entries',{method:'GET',mode:\"cors\",headers:{'Authorization':'Bearer '+jwt}});case 4:response=_context.sent;_context.next=7;return response.json();case 7:payload=_context.sent;setEntries(payload);case 9:case\"end\":return _context.stop();}}},_callee);}));return function loadEntries(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Entries page\"}),/*#__PURE__*/_jsx(\"button\",{onClick:loadEntries,children:\"Load Entries\"}),/*#__PURE__*/_jsx(\"section\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{id:\"Entries\",children:entries.map(function(item,key){return/*#__PURE__*/_jsxs(\"li\",{children:[\"ID: \",item.input_id,\"; Time: \",item.time_stamp,\"; Name: \",item.name,\"; Email: \",item.email,\"; Phone number: \",item.phone,\"; Message: \",item.content]},item.id);})})})]});};export default EntriesPage;","map":{"version":3,"sources":["/Users/MakSim/FS1030CourseProject/course-react-app/src/entriesPage.js"],"names":["React","useState","EntriesPage","props","entries","setEntries","loadEntries","event","preventDefault","jwt","localStorage","getItem","fetch","method","mode","headers","response","json","payload","map","item","key","input_id","time_stamp","name","email","phone","content","id"],"mappings":"wfAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,wFAGE,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,eACCF,QAAQ,CAAC,EAAD,CADT,wCACtBG,OADsB,eACbC,UADa,eAE/B,GAAMC,CAAAA,WAAW,0FAAG,iBAAMC,KAAN,2IAClBA,KAAK,CAACC,cAAN,GACMC,GAFY,CAENC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFM,uBAGKC,CAAAA,KAAK,CAAC,2EAAD,CAA8E,CAClGC,MAAM,CAAE,KAD0F,CAElGC,IAAI,CAAE,MAF4F,CAGlGC,OAAO,CAAE,CACL,gBAAiB,UAAYN,GADxB,CAHyF,CAA9E,CAHV,QAGZO,QAHY,qCAUIA,CAAAA,QAAQ,CAACC,IAAT,EAVJ,QAUZC,OAVY,eAWlBb,UAAU,CAACa,OAAD,CAAV,CAXkB,sDAAH,kBAAXZ,CAAAA,WAAW,4CAAjB,CAeE,mBACE,oCACE,oCADF,cAEE,eAAQ,OAAO,CAAEA,WAAjB,0BAFF,cAGE,gBAAS,SAAS,CAAC,WAAnB,uBACE,YAAK,EAAE,CAAC,SAAR,UACGF,OAAO,CAACe,GAAR,CAAY,SAACC,IAAD,CAAOC,GAAP,qBACX,6BACOD,IAAI,CAACE,QADZ,YAC8BF,IAAI,CAACG,UADnC,YACuDH,IAAI,CAACI,IAD5D,aAC2EJ,IAAI,CAACK,KADhF,oBAEWL,IAAI,CAACM,KAFhB,eAEkCN,IAAI,CAACO,OAFvC,GAASP,IAAI,CAACQ,EAAd,CADW,EAAZ,CADH,EADF,EAHF,GADF,CAkBH,CAnCC,CAqCF,cAAe1B,CAAAA,WAAf","sourcesContent":["import React, { useState } from \"react\";\n\n\n  const EntriesPage = (props) => {\n    const [entries, setEntries] = useState([]);\n  const loadEntries = async event => {\n    event.preventDefault()\n    const jwt = localStorage.getItem('token')\n    const response = await fetch('https://fs1040course-project-p2xhr6rraq-nn.a.run.app/contact_form/entries', {\n            method: 'GET',\n            mode: \"cors\",\n            headers: {\n                'Authorization': 'Bearer ' + jwt\n            },\n        })\n    const payload = await response.json()\n    setEntries(payload)\n    }\n    \n\n    return (\n      <div>\n        <h1>Entries page</h1>\n        <button onClick={loadEntries}>Load Entries</button>\n        <section className=\"container\">\n          <div id=\"Entries\">\n            {entries.map((item, key) => (\n              <li key={item.id}>\n                ID: {item.input_id}; Time: {item.time_stamp}; Name: {item.name}; Email: {item.email}; Phone\n                number: {item.phone}; Message: {item.content}\n              </li>\n            ))}\n          </div>\n        </section>\n      </div>\n    );\n    \n  \n}\n \nexport default EntriesPage;"]},"metadata":{},"sourceType":"module"}